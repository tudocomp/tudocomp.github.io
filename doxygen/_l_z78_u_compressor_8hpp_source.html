<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tudocomp: LZ78UCompressor.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-tudocomp.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tudocomp.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tudocomp
   &#160;<span id="projectnumber">0.170123-jenkins-51</span>
   </div>
   <div id="projectbrief">&ndash; The TU Dortmund Compression Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_l_z78_u_compressor_8hpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">LZ78UCompressor.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_l_z78_u_compressor_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_compressor_8hpp.html">tudocomp/Compressor.hpp</a>&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;sdsl/cst_fully.hpp&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;sdsl/cst_sada.hpp&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_range_8hpp.html">tudocomp/Range.hpp</a>&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_text_d_s_8hpp.html">tudocomp/ds/TextDS.hpp</a>&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_l_z78common_8hpp.html">tudocomp/compressors/lz78/LZ78common.hpp</a>&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_suffix_tree_8hpp.html">lz78u/SuffixTree.hpp</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pre__header_8hpp.html">lz78u/pre_header.hpp</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacetdc.html">tdc</a> {</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">namespace </span>lz78u {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="comment">// TODO: Define factorid for lz78u uniformly</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="classtdc_1_1lz78u_1_1_decompressor.html">   22</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classtdc_1_1lz78u_1_1_decompressor.html">Decompressor</a> {</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        std::vector&lt;lz78::factorid_t&gt; indices;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        std::vector&lt;uliteral_t&gt; literal_strings;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        std::vector&lt;size_t&gt; start_literal_strings;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        std::vector&lt;uliteral_t&gt; buffer;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <a class="code" href="classtdc_1_1_view.html">View</a> literals_of(<span class="keywordtype">size_t</span> i)<span class="keyword"> const </span>{</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;            <a class="code" href="classtdc_1_1_view.html">View</a> ls = literal_strings;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;            <span class="keywordtype">size_t</span> start = start_literal_strings[i];</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            <span class="keywordtype">size_t</span> end = 0;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            <span class="keywordflow">if</span> ((i + 1) &lt; start_literal_strings.size()) {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                end = start_literal_strings[i + 1];</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                end = ls.<a class="code" href="classtdc_1_1_view.html#ac1ff63d04f0ec8f6270b4b9f71b1bdda">size</a>();</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            }</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <span class="keywordflow">return</span> ls.<a class="code" href="classtdc_1_1_view.html#a2e01d31deb487658491b3e81ab9a923d">slice</a>(start, end);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        }</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keyword">public</span>:</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="classtdc_1_1lz78u_1_1_decompressor.html#affce5d73096878dc7dff5a3143d7d6c0">   44</a></span>&#160;        <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classtdc_1_1lz78u_1_1_decompressor.html#affce5d73096878dc7dff5a3143d7d6c0">decompress</a>(<a class="code" href="namespacetdc_1_1lz78.html#a98482623901d7ba270adeac84e665190">lz78::factorid_t</a> index, <a class="code" href="classtdc_1_1_view.html">View</a> literals, std::ostream&amp; out) {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            indices.push_back(index);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            start_literal_strings.push_back(literal_strings.size());</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : literals) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                literal_strings.push_back(c);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="comment">//std::cout &lt;&lt; &quot;    indices:         &quot; &lt;&lt; vec_to_debug_string(indices) &lt;&lt; &quot;\n&quot;;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <span class="comment">//std::cout &lt;&lt; &quot;    start lit str:   &quot; &lt;&lt; vec_to_debug_string(start_literal_strings) &lt;&lt; &quot;\n&quot;;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <span class="comment">//std::cout &lt;&lt; &quot;    literal_strings: &quot; &lt;&lt; vec_to_debug_string(literal_strings) &lt;&lt; &quot;\n&quot;;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            buffer.clear();</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <span class="keywordflow">while</span>(<span class="keyword">true</span>) {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                <span class="keyword">auto</span> inv_old_size = buffer.size();</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; literals.size(); i++) {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                    buffer.push_back(literals[literals.size() - i - 1]);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                DCHECK_EQ(inv_old_size + literals.size(), buffer.size());</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                <span class="keywordflow">if</span> (index == 0) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                literals = literals_of(index - 1);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                index = indices[index - 1];</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            std::reverse(buffer.begin(), buffer.end());</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="comment">//std::cout &lt;&lt; &quot;    reconstructed: &quot; &lt;&lt; vec_to_debug_string(buffer) &lt;&lt; &quot;\n&quot;;</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            out &lt;&lt; <a class="code" href="classtdc_1_1_view.html">View</a>(buffer);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    };</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> strategy_t, <span class="keyword">typename</span> ref_coder_t&gt;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classtdc_1_1_l_z78_u_compressor.html">   81</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtdc_1_1_l_z78_u_compressor.html">LZ78UCompressor</a>: <span class="keyword">public</span> <a class="code" href="classtdc_1_1_compressor.html">Compressor</a> {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keyword">using</span> node_type = <a class="code" href="structtdc_1_1_suffix_tree.html#ab1cc63e5cd8ed13bbbbc28ea82ef548c">SuffixTree::node_type</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keyword">using</span> RefEncoder = <span class="keyword">typename</span> ref_coder_t::Encoder;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keyword">using</span> RefDecoder = <span class="keyword">typename</span> ref_coder_t::Decoder;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keyword">using</span> CompressionStrat</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        = <span class="keyword">typename</span> strategy_t::template Compression&lt;RefEncoder&gt;;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keyword">using</span> DecompressionStrat</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        = <span class="keyword">typename</span> strategy_t::template Decompression&lt;RefDecoder&gt;;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classtdc_1_1_l_z78_u_compressor.html#a4a10b7804792d7f8eb258f79c6d967a3">   94</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="classtdc_1_1_l_z78_u_compressor.html#a4a10b7804792d7f8eb258f79c6d967a3">LZ78UCompressor</a>(<a class="code" href="classtdc_1_1_env.html">Env</a>&amp;&amp; env):</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="classtdc_1_1_compressor.html">Compressor</a>(<a class="code" href="namespacestd.html">std</a>::move(env))</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    {}</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classtdc_1_1_l_z78_u_compressor.html#a61802b6d22d94b18e5eb7c24b104b6e9">   98</a></span>&#160;    <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classtdc_1_1_meta.html">Meta</a> <a class="code" href="classtdc_1_1_l_z78_u_compressor.html#a61802b6d22d94b18e5eb7c24b104b6e9">meta</a>() {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="classtdc_1_1_meta.html">Meta</a> m(<span class="stringliteral">&quot;compressor&quot;</span>, <span class="stringliteral">&quot;lz78u&quot;</span>, <span class="stringliteral">&quot;Lempel-Ziv 78 U\n\n&quot;</span> );</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        m.<a class="code" href="classtdc_1_1_meta.html#aa00cbc180eecd9017e247d9bbffbc01e">option</a>(<span class="stringliteral">&quot;strategy&quot;</span>).<a class="code" href="classtdc_1_1_meta_1_1_option_builder.html#a24ce72265c785c2ecd100f15ca6672c5">templated</a>&lt;strategy_t&gt;();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        m.<a class="code" href="classtdc_1_1_meta.html#aa00cbc180eecd9017e247d9bbffbc01e">option</a>(<span class="stringliteral">&quot;coder&quot;</span>).<a class="code" href="classtdc_1_1_meta_1_1_option_builder.html#a24ce72265c785c2ecd100f15ca6672c5">templated</a>&lt;ref_coder_t&gt;();</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="comment">// m.option(&quot;dict_size&quot;).dynamic(&quot;inf&quot;);</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        m.<a class="code" href="classtdc_1_1_meta.html#a61e4da80a0830490df15bf609a4d0028">needs_sentinel_terminator</a>();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">return</span> m;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classtdc_1_1_l_z78_u_compressor.html#a25e9b35060c53d58cec3f1e4b65e37ae">  107</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classtdc_1_1_l_z78_u_compressor.html#a25e9b35060c53d58cec3f1e4b65e37ae">compress</a>(<a class="code" href="classtdc_1_1io_1_1_input.html">Input</a>&amp; input, <a class="code" href="classtdc_1_1io_1_1_output.html">Output</a>&amp; out)<span class="keyword"> override </span>{</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keyword">auto</span> phase1 = env().stat_phase(<span class="stringliteral">&quot;lz78u&quot;</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="comment">//std::cout &lt;&lt; &quot;START COMPRESS\n&quot;;</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keyword">auto</span> iview = input.<a class="code" href="classtdc_1_1io_1_1_input.html#a01b43ae61e9c5097de455407940be1ff">as_view</a>();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="classtdc_1_1_view.html">View</a> T = iview;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="structtdc_1_1_suffix_tree.html#ae94eeb04675c7d72bef30a8f475cc22d">SuffixTree::cst_t</a> backing_cst;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="keyword">auto</span> phase2 = env().stat_phase(<span class="stringliteral">&quot;construct suffix tree&quot;</span>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="comment">// TODO: Specialize sdsl template for less alloc here</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            std::string bad_copy_1 = T.<a class="code" href="classtdc_1_1_view.html#a2e01d31deb487658491b3e81ab9a923d">slice</a>(0, T.<a class="code" href="classtdc_1_1_view.html#ac1ff63d04f0ec8f6270b4b9f71b1bdda">size</a>() - 1);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="comment">//std::cout &lt;&lt; &quot;text: &quot; &lt;&lt; vec_to_debug_string(bad_copy_1) &lt;&lt; &quot;\n&quot;;</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            construct_im(backing_cst, bad_copy_1, 1);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="structtdc_1_1_suffix_tree.html">SuffixTree</a> ST(backing_cst);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">size_t</span> max_z = T.<a class="code" href="classtdc_1_1_view.html#ac1ff63d04f0ec8f6270b4b9f71b1bdda">size</a>() * <a class="code" href="namespacetdc.html#a405c60e1a5ca678359687ce198b5036b">bits_for</a>(ST.<a class="code" href="structtdc_1_1_suffix_tree.html#aeaa49181018dc8195859b8290da9b09d">cst</a>.csa.sigma) / <a class="code" href="namespacetdc.html#a405c60e1a5ca678359687ce198b5036b">bits_for</a>(T.<a class="code" href="classtdc_1_1_view.html#ac1ff63d04f0ec8f6270b4b9f71b1bdda">size</a>());</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        env().log_stat(<span class="stringliteral">&quot;max z&quot;</span>, max_z);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        sdsl::int_vector&lt;&gt; R(ST.<a class="code" href="structtdc_1_1_suffix_tree.html#a28b0bd7d0aa922567161dcd6e68e3abc">internal_nodes</a>,0,<a class="code" href="namespacetdc.html#a405c60e1a5ca678359687ce198b5036b">bits_for</a>(max_z));</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <a class="code" href="namespacetdc.html#aa6b4c54c0897b49bf3c9e3f9f71ec408">len_t</a> <a class="code" href="_l_z_s_s_factors_8hpp.html#ab2e914ac2e0b5d74a5079c58903ba5a9">pos</a> = 0;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="namespacetdc.html#aa6b4c54c0897b49bf3c9e3f9f71ec408">len_t</a> z = 0;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="structtdc_1_1_suffix_tree.html#ab1cc63e5cd8ed13bbbbc28ea82ef548c">SuffixTree::node_type</a> <a class="code" href="namespacetdc_1_1lz78.html#a0abe2bebdad8b81a2db310fa7a2b2384">node_t</a>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        CompressionStrat strategy {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            env().env_for_option(<span class="stringliteral">&quot;strategy&quot;</span>),</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            env().env_for_option(<span class="stringliteral">&quot;coder&quot;</span>),</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            std::make_shared&lt;BitOStream&gt;(out)</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        };</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <a class="code" href="namespacetdc.html#aa6b4c54c0897b49bf3c9e3f9f71ec408">len_t</a> factor_count = 0;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keyword">auto</span> output = [&amp;](<a class="code" href="classtdc_1_1_view.html">View</a> slice, <span class="keywordtype">size_t</span> ref) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="comment">// if trailing 0, remove</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">if</span> (slice.<a class="code" href="classtdc_1_1_view.html#af1bde10f595697128f2e7ab38ef938a7">back</a>() == 0) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                slice = slice.<a class="code" href="classtdc_1_1_view.html#a360a88175a9321a550ed8df47a48e8ce">substr</a>(0, slice.<a class="code" href="classtdc_1_1_view.html#ac1ff63d04f0ec8f6270b4b9f71b1bdda">size</a>() - 1);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">            std::cout &lt;&lt; &quot;out (s,r): (&quot;</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">                &lt;&lt; vec_to_debug_string(slice)</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">                &lt;&lt; &quot;, &quot; &lt;&lt; int(ref) &lt;&lt; &quot;)&quot; &lt;&lt; std::endl;</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">            */</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            strategy.encode(<a class="code" href="structtdc_1_1lz78u_1_1_factor.html">lz78u::Factor</a> { slice, ref }, factor_count);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            factor_count++;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        };</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="comment">// Skip the trailing 0</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">while</span>(pos &lt; T.<a class="code" href="classtdc_1_1_view.html#ac1ff63d04f0ec8f6270b4b9f71b1bdda">size</a>() - 1) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keyword">const</span> node_t l = ST.<a class="code" href="structtdc_1_1_suffix_tree.html#a35060b430a4c17bb48c24d3a9a89db24">select_leaf</a>(ST.<a class="code" href="structtdc_1_1_suffix_tree.html#aeaa49181018dc8195859b8290da9b09d">cst</a>.csa.isa[pos]);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="keyword">const</span> <a class="code" href="namespacetdc.html#aa6b4c54c0897b49bf3c9e3f9f71ec408">len_t</a> leaflabel = <a class="code" href="_l_z_s_s_factors_8hpp.html#ab2e914ac2e0b5d74a5079c58903ba5a9">pos</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keywordflow">if</span>(ST.<a class="code" href="structtdc_1_1_suffix_tree.html#a7ef627fc7b45b8c86b810fc2dbf4980d">parent</a>(l) == ST.<a class="code" href="structtdc_1_1_suffix_tree.html#a92b65cccd6dd5d24929fed80aef6cb8b">root</a> || R[ST.<a class="code" href="structtdc_1_1_suffix_tree.html#af60630adb2cfa31001b51ce6e8da01f5">nid</a>(ST.<a class="code" href="structtdc_1_1_suffix_tree.html#a7ef627fc7b45b8c86b810fc2dbf4980d">parent</a>(l))] != 0) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                <span class="keyword">const</span> <a class="code" href="namespacetdc.html#aa6b4c54c0897b49bf3c9e3f9f71ec408">len_t</a> parent_strdepth = ST.<a class="code" href="structtdc_1_1_suffix_tree.html#ae498fab98b5ac19e0674fb924f89a125">str_depth</a>(ST.<a class="code" href="structtdc_1_1_suffix_tree.html#a7ef627fc7b45b8c86b810fc2dbf4980d">parent</a>(l));</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                <span class="comment">//std::cout &lt;&lt; &quot;out leaf: [&quot; &lt;&lt; (pos+parent_strdepth)  &lt;&lt; &quot;,&quot;&lt;&lt; (pos + parent_strdepth + 1) &lt;&lt; &quot;] &quot;;</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                output(T.<a class="code" href="classtdc_1_1_view.html#a2e01d31deb487658491b3e81ab9a923d">slice</a>(pos+parent_strdepth, pos + parent_strdepth + 1), R[ST.<a class="code" href="structtdc_1_1_suffix_tree.html#af60630adb2cfa31001b51ce6e8da01f5">nid</a>(ST.<a class="code" href="structtdc_1_1_suffix_tree.html#a7ef627fc7b45b8c86b810fc2dbf4980d">parent</a>(l))]);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                pos += parent_strdepth+1;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                ++z;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <a class="code" href="namespacetdc.html#aa6b4c54c0897b49bf3c9e3f9f71ec408">len_t</a> d = 1;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            node_t parent = ST.<a class="code" href="structtdc_1_1_suffix_tree.html#a92b65cccd6dd5d24929fed80aef6cb8b">root</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            node_t node = ST.<a class="code" href="structtdc_1_1_suffix_tree.html#a4f3ec24b0ea82d5d991a1db470308de3">level_anc</a>(l, d);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">while</span>(R[ST.<a class="code" href="structtdc_1_1_suffix_tree.html#af60630adb2cfa31001b51ce6e8da01f5">nid</a>(node)] != 0) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                pos += ST.<a class="code" href="structtdc_1_1_suffix_tree.html#ae498fab98b5ac19e0674fb924f89a125">str_depth</a>(node) - ST.<a class="code" href="structtdc_1_1_suffix_tree.html#ae498fab98b5ac19e0674fb924f89a125">str_depth</a>(parent); <span class="comment">// TODO: move outwards!</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                parent = node;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                node = ST.<a class="code" href="structtdc_1_1_suffix_tree.html#a4f3ec24b0ea82d5d991a1db470308de3">level_anc</a>(l, ++d);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            R[ST.<a class="code" href="structtdc_1_1_suffix_tree.html#af60630adb2cfa31001b51ce6e8da01f5">nid</a>(node)] = ++z;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; str = T.<a class="code" href="classtdc_1_1_view.html#a2e01d31deb487658491b3e81ab9a923d">slice</a>(leaflabel + ST.<a class="code" href="structtdc_1_1_suffix_tree.html#ae498fab98b5ac19e0674fb924f89a125">str_depth</a>(parent), leaflabel + ST.<a class="code" href="structtdc_1_1_suffix_tree.html#ae498fab98b5ac19e0674fb924f89a125">str_depth</a>(node));</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="comment">//std::cout &lt;&lt; &quot;out slice: [ &quot;&lt;&lt; (leaflabel + ST.str_depth(parent)) &lt;&lt; &quot;, &quot;&lt;&lt; (leaflabel + ST.str_depth(node))&lt;&lt; &quot; ] &quot;;</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            output(str, R[ST.<a class="code" href="structtdc_1_1_suffix_tree.html#af60630adb2cfa31001b51ce6e8da01f5">nid</a>(ST.<a class="code" href="structtdc_1_1_suffix_tree.html#a7ef627fc7b45b8c86b810fc2dbf4980d">parent</a>(node))]);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            pos += str.size();</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classtdc_1_1_l_z78_u_compressor.html#a6a4373eb51297915c19f7080138bf20d">  201</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classtdc_1_1_l_z78_u_compressor.html#a6a4373eb51297915c19f7080138bf20d">decompress</a>(<a class="code" href="classtdc_1_1io_1_1_input.html">Input</a>&amp; input, <a class="code" href="classtdc_1_1io_1_1_output.html">Output</a>&amp; output) <span class="keyword">override</span> <span class="keyword">final</span> {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="comment">//std::cout &lt;&lt; &quot;START DECOMPRESS\n&quot;;</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keyword">auto</span> out = output.as_stream();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            DecompressionStrat strategy {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                env().env_for_option(<span class="stringliteral">&quot;strategy&quot;</span>),</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                env().env_for_option(<span class="stringliteral">&quot;coder&quot;</span>),</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                std::make_shared&lt;BitIStream&gt;(input)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            };</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            uint64_t factor_count = 0;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <a class="code" href="classtdc_1_1lz78u_1_1_decompressor.html">lz78u::Decompressor</a> decomp;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="keywordflow">while</span> (!strategy.eof()) {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                <span class="keyword">auto</span> factor = strategy.decode(factor_count);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                <span class="comment">/*</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">                std::cout &lt;&lt; &quot;in m (s,r): (&quot;</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">                    &lt;&lt; vec_to_debug_string(factor.string)</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">                    &lt;&lt; &quot;, &quot; &lt;&lt; int(factor.ref) &lt;&lt; &quot;)\n&quot;;</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">                */</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                decomp.<a class="code" href="classtdc_1_1lz78u_1_1_decompressor.html#affce5d73096878dc7dff5a3143d7d6c0">decompress</a>(factor.ref, factor.string, out);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                factor_count++;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        out &lt;&lt; <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        out.flush();</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;};</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}<span class="comment">//ns</span></div><div class="ttc" id="namespacetdc_1_1lz78_html_a0abe2bebdad8b81a2db310fa7a2b2384"><div class="ttname"><a href="namespacetdc_1_1lz78.html#a0abe2bebdad8b81a2db310fa7a2b2384">tdc::lz78::node_t</a></div><div class="ttdeci">uint64_t node_t</div><div class="ttdef"><b>Definition:</b> <a href="squeeze__node_8hpp_source.html#l00007">squeeze_node.hpp:7</a></div></div>
<div class="ttc" id="namespacetdc_html"><div class="ttname"><a href="namespacetdc.html">tdc</a></div><div class="ttdoc">Contains the text compression and encoding framework. </div><div class="ttdef"><b>Definition:</b> <a href="_algorithm_8hpp_source.html#l00009">Algorithm.hpp:9</a></div></div>
<div class="ttc" id="structtdc_1_1_suffix_tree_html_aeaa49181018dc8195859b8290da9b09d"><div class="ttname"><a href="structtdc_1_1_suffix_tree.html#aeaa49181018dc8195859b8290da9b09d">tdc::SuffixTree::cst</a></div><div class="ttdeci">const cst_t &amp; cst</div><div class="ttdef"><b>Definition:</b> <a href="_suffix_tree_8hpp_source.html#l00025">SuffixTree.hpp:25</a></div></div>
<div class="ttc" id="structtdc_1_1_suffix_tree_html_af60630adb2cfa31001b51ce6e8da01f5"><div class="ttname"><a href="structtdc_1_1_suffix_tree.html#af60630adb2cfa31001b51ce6e8da01f5">tdc::SuffixTree::nid</a></div><div class="ttdeci">cst_t::size_type nid(const cst_t::node_type &amp;node) const </div><div class="ttdef"><b>Definition:</b> <a href="_suffix_tree_8hpp_source.html#l00104">SuffixTree.hpp:104</a></div></div>
<div class="ttc" id="classtdc_1_1_l_z78_u_compressor_html_a4a10b7804792d7f8eb258f79c6d967a3"><div class="ttname"><a href="classtdc_1_1_l_z78_u_compressor.html#a4a10b7804792d7f8eb258f79c6d967a3">tdc::LZ78UCompressor::LZ78UCompressor</a></div><div class="ttdeci">LZ78UCompressor(Env &amp;&amp;env)</div><div class="ttdef"><b>Definition:</b> <a href="_l_z78_u_compressor_8hpp_source.html#l00094">LZ78UCompressor.hpp:94</a></div></div>
<div class="ttc" id="classtdc_1_1_meta_html"><div class="ttname"><a href="classtdc_1_1_meta.html">tdc::Meta</a></div><div class="ttdoc">Provides meta information about an Algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="_algorithm_8hpp_source.html#l00056">Algorithm.hpp:56</a></div></div>
<div class="ttc" id="structtdc_1_1_suffix_tree_html_a92b65cccd6dd5d24929fed80aef6cb8b"><div class="ttname"><a href="structtdc_1_1_suffix_tree.html#a92b65cccd6dd5d24929fed80aef6cb8b">tdc::SuffixTree::root</a></div><div class="ttdeci">const cst_t::node_type root</div><div class="ttdoc">sdsl suffix tree </div><div class="ttdef"><b>Definition:</b> <a href="_suffix_tree_8hpp_source.html#l00026">SuffixTree.hpp:26</a></div></div>
<div class="ttc" id="namespacetdc_1_1lz78_html_a98482623901d7ba270adeac84e665190"><div class="ttname"><a href="namespacetdc_1_1lz78.html#a98482623901d7ba270adeac84e665190">tdc::lz78::factorid_t</a></div><div class="ttdeci">std::uint32_t factorid_t</div><div class="ttdef"><b>Definition:</b> <a href="_l_z78_trie_8hpp_source.html#l00010">LZ78Trie.hpp:10</a></div></div>
<div class="ttc" id="classtdc_1_1_l_z78_u_compressor_html"><div class="ttname"><a href="classtdc_1_1_l_z78_u_compressor.html">tdc::LZ78UCompressor</a></div><div class="ttdef"><b>Definition:</b> <a href="_l_z78_u_compressor_8hpp_source.html#l00081">LZ78UCompressor.hpp:81</a></div></div>
<div class="ttc" id="classtdc_1_1_compressor_html"><div class="ttname"><a href="classtdc_1_1_compressor.html">tdc::Compressor</a></div><div class="ttdoc">Base for data compressors. </div><div class="ttdef"><b>Definition:</b> <a href="_compressor_8hpp_source.html#l00019">Compressor.hpp:19</a></div></div>
<div class="ttc" id="classtdc_1_1_view_html"><div class="ttname"><a href="classtdc_1_1_view.html">tdc::View</a></div><div class="ttdoc">A view into a slice of memory. </div><div class="ttdef"><b>Definition:</b> <a href="_view_8hpp_source.html#l00026">View.hpp:26</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="_int_ptr_8hpp_source.html#l00125">IntPtr.hpp:125</a></div></div>
<div class="ttc" id="classtdc_1_1lz78u_1_1_decompressor_html"><div class="ttname"><a href="classtdc_1_1lz78u_1_1_decompressor.html">tdc::lz78u::Decompressor</a></div><div class="ttdef"><b>Definition:</b> <a href="_l_z78_u_compressor_8hpp_source.html#l00022">LZ78UCompressor.hpp:22</a></div></div>
<div class="ttc" id="classtdc_1_1_meta_1_1_option_builder_html_a24ce72265c785c2ecd100f15ca6672c5"><div class="ttname"><a href="classtdc_1_1_meta_1_1_option_builder.html#a24ce72265c785c2ecd100f15ca6672c5">tdc::Meta::OptionBuilder::templated</a></div><div class="ttdeci">void templated()</div><div class="ttdoc">Declares that this option accepts values of the specified Algorithm type T. </div><div class="ttdef"><b>Definition:</b> <a href="_algorithm_8hpp_source.html#l00115">Algorithm.hpp:115</a></div></div>
<div class="ttc" id="structtdc_1_1lz78u_1_1_factor_html"><div class="ttname"><a href="structtdc_1_1lz78u_1_1_factor.html">tdc::lz78u::Factor</a></div><div class="ttdef"><b>Definition:</b> <a href="pre__header_8hpp_source.html#l00006">pre_header.hpp:6</a></div></div>
<div class="ttc" id="structtdc_1_1_suffix_tree_html_a7ef627fc7b45b8c86b810fc2dbf4980d"><div class="ttname"><a href="structtdc_1_1_suffix_tree.html#a7ef627fc7b45b8c86b810fc2dbf4980d">tdc::SuffixTree::parent</a></div><div class="ttdeci">cst_t::node_type parent(const cst_t::node_type &amp;node) const </div><div class="ttdef"><b>Definition:</b> <a href="_suffix_tree_8hpp_source.html#l00038">SuffixTree.hpp:38</a></div></div>
<div class="ttc" id="classtdc_1_1_l_z78_u_compressor_html_a6a4373eb51297915c19f7080138bf20d"><div class="ttname"><a href="classtdc_1_1_l_z78_u_compressor.html#a6a4373eb51297915c19f7080138bf20d">tdc::LZ78UCompressor::decompress</a></div><div class="ttdeci">virtual void decompress(Input &amp;input, Output &amp;output) overridefinal</div><div class="ttdoc">Decompress the given input to the given output. </div><div class="ttdef"><b>Definition:</b> <a href="_l_z78_u_compressor_8hpp_source.html#l00201">LZ78UCompressor.hpp:201</a></div></div>
<div class="ttc" id="structtdc_1_1_suffix_tree_html_a4f3ec24b0ea82d5d991a1db470308de3"><div class="ttname"><a href="structtdc_1_1_suffix_tree.html#a4f3ec24b0ea82d5d991a1db470308de3">tdc::SuffixTree::level_anc</a></div><div class="ttdeci">cst_t::node_type level_anc(const cst_t::node_type &amp;node, size_t depth) const </div><div class="ttdoc">Returns the level ancestor of node. </div><div class="ttdef"><b>Definition:</b> <a href="_suffix_tree_8hpp_source.html#l00046">SuffixTree.hpp:46</a></div></div>
<div class="ttc" id="classtdc_1_1_meta_html_a61e4da80a0830490df15bf609a4d0028"><div class="ttname"><a href="classtdc_1_1_meta.html#a61e4da80a0830490df15bf609a4d0028">tdc::Meta::needs_sentinel_terminator</a></div><div class="ttdeci">void needs_sentinel_terminator()</div><div class="ttdoc">Indicates that this Algorithm requires a terminator symbol in Input. </div><div class="ttdef"><b>Definition:</b> <a href="_algorithm_8hpp_source.html#l00254">Algorithm.hpp:254</a></div></div>
<div class="ttc" id="structtdc_1_1_suffix_tree_html_ae94eeb04675c7d72bef30a8f475cc22d"><div class="ttname"><a href="structtdc_1_1_suffix_tree.html#ae94eeb04675c7d72bef30a8f475cc22d">tdc::SuffixTree::cst_t</a></div><div class="ttdeci">cst_sada&lt;&gt; cst_t</div><div class="ttdef"><b>Definition:</b> <a href="_suffix_tree_8hpp_source.html#l00022">SuffixTree.hpp:22</a></div></div>
<div class="ttc" id="classtdc_1_1_l_z78_u_compressor_html_a61802b6d22d94b18e5eb7c24b104b6e9"><div class="ttname"><a href="classtdc_1_1_l_z78_u_compressor.html#a61802b6d22d94b18e5eb7c24b104b6e9">tdc::LZ78UCompressor::meta</a></div><div class="ttdeci">static Meta meta()</div><div class="ttdef"><b>Definition:</b> <a href="_l_z78_u_compressor_8hpp_source.html#l00098">LZ78UCompressor.hpp:98</a></div></div>
<div class="ttc" id="classtdc_1_1_view_html_a360a88175a9321a550ed8df47a48e8ce"><div class="ttname"><a href="classtdc_1_1_view.html#a360a88175a9321a550ed8df47a48e8ce">tdc::View::substr</a></div><div class="ttdeci">View substr(size_type pos, size_type len=npos) const </div><div class="ttdoc">Construct a new View that is a sub view into the current one. </div><div class="ttdef"><b>Definition:</b> <a href="_view_8hpp_source.html#l00228">View.hpp:228</a></div></div>
<div class="ttc" id="classtdc_1_1io_1_1_output_html"><div class="ttname"><a href="classtdc_1_1io_1_1_output.html">tdc::io::Output</a></div><div class="ttdoc">An abstraction layer for algorithm output. </div><div class="ttdef"><b>Definition:</b> <a href="_output_8hpp_source.html#l00023">Output.hpp:23</a></div></div>
<div class="ttc" id="structtdc_1_1_suffix_tree_html_ab1cc63e5cd8ed13bbbbc28ea82ef548c"><div class="ttname"><a href="structtdc_1_1_suffix_tree.html#ab1cc63e5cd8ed13bbbbc28ea82ef548c">tdc::SuffixTree::node_type</a></div><div class="ttdeci">cst_t::node_type node_type</div><div class="ttdef"><b>Definition:</b> <a href="_suffix_tree_8hpp_source.html#l00023">SuffixTree.hpp:23</a></div></div>
<div class="ttc" id="structtdc_1_1_suffix_tree_html"><div class="ttname"><a href="structtdc_1_1_suffix_tree.html">tdc::SuffixTree</a></div><div class="ttdoc">This is a wrapper class around the sdsl-lite library to get a easier translation between the pseudoco...</div><div class="ttdef"><b>Definition:</b> <a href="_suffix_tree_8hpp_source.html#l00021">SuffixTree.hpp:21</a></div></div>
<div class="ttc" id="namespacetdc_html_a405c60e1a5ca678359687ce198b5036b"><div class="ttname"><a href="namespacetdc.html#a405c60e1a5ca678359687ce198b5036b">tdc::bits_for</a></div><div class="ttdeci">uint_fast8_t bits_for(size_t n)</div><div class="ttdoc">Computes the number of bits required to store the given integer value. </div><div class="ttdef"><b>Definition:</b> <a href="util_8hpp_source.html#l00167">util.hpp:167</a></div></div>
<div class="ttc" id="classtdc_1_1_l_z78_u_compressor_html_a25e9b35060c53d58cec3f1e4b65e37ae"><div class="ttname"><a href="classtdc_1_1_l_z78_u_compressor.html#a25e9b35060c53d58cec3f1e4b65e37ae">tdc::LZ78UCompressor::compress</a></div><div class="ttdeci">virtual void compress(Input &amp;input, Output &amp;out) override</div><div class="ttdoc">Compress the given input to the given output. </div><div class="ttdef"><b>Definition:</b> <a href="_l_z78_u_compressor_8hpp_source.html#l00107">LZ78UCompressor.hpp:107</a></div></div>
<div class="ttc" id="pre__header_8hpp_html"><div class="ttname"><a href="pre__header_8hpp.html">pre_header.hpp</a></div></div>
<div class="ttc" id="classtdc_1_1_view_html_ac1ff63d04f0ec8f6270b4b9f71b1bdda"><div class="ttname"><a href="classtdc_1_1_view.html#ac1ff63d04f0ec8f6270b4b9f71b1bdda">tdc::View::size</a></div><div class="ttdeci">size_type size() const </div><div class="ttdoc">Returns size of the View. </div><div class="ttdef"><b>Definition:</b> <a href="_view_8hpp_source.html#l00182">View.hpp:182</a></div></div>
<div class="ttc" id="structtdc_1_1_suffix_tree_html_a35060b430a4c17bb48c24d3a9a89db24"><div class="ttname"><a href="structtdc_1_1_suffix_tree.html#a35060b430a4c17bb48c24d3a9a89db24">tdc::SuffixTree::select_leaf</a></div><div class="ttdeci">cst_t::node_type select_leaf(const cst_t::size_type &amp;i) const </div><div class="ttdoc">Select the i-th leaf in SA-order 0  i &lt; n. </div><div class="ttdef"><b>Definition:</b> <a href="_suffix_tree_8hpp_source.html#l00056">SuffixTree.hpp:56</a></div></div>
<div class="ttc" id="structtdc_1_1_suffix_tree_html_a28b0bd7d0aa922567161dcd6e68e3abc"><div class="ttname"><a href="structtdc_1_1_suffix_tree.html#a28b0bd7d0aa922567161dcd6e68e3abc">tdc::SuffixTree::internal_nodes</a></div><div class="ttdeci">const size_t internal_nodes</div><div class="ttdoc">rank the one bits in the BP </div><div class="ttdef"><b>Definition:</b> <a href="_suffix_tree_8hpp_source.html#l00028">SuffixTree.hpp:28</a></div></div>
<div class="ttc" id="classtdc_1_1io_1_1_input_html_a01b43ae61e9c5097de455407940be1ff"><div class="ttname"><a href="classtdc_1_1io_1_1_input.html#a01b43ae61e9c5097de455407940be1ff">tdc::io::Input::as_view</a></div><div class="ttdeci">InputView as_view()</div><div class="ttdoc">Provides a view on the input that allows for random access. </div><div class="ttdef"><b>Definition:</b> <a href="_input_8hpp_source.html#l00343">Input.hpp:343</a></div></div>
<div class="ttc" id="structtdc_1_1_suffix_tree_html_ae498fab98b5ac19e0674fb924f89a125"><div class="ttname"><a href="structtdc_1_1_suffix_tree.html#ae498fab98b5ac19e0674fb924f89a125">tdc::SuffixTree::str_depth</a></div><div class="ttdeci">cst_t::size_type str_depth(const cst_t::node_type &amp;node) const </div><div class="ttdef"><b>Definition:</b> <a href="_suffix_tree_8hpp_source.html#l00097">SuffixTree.hpp:97</a></div></div>
<div class="ttc" id="classtdc_1_1_view_html_af1bde10f595697128f2e7ab38ef938a7"><div class="ttname"><a href="classtdc_1_1_view.html#af1bde10f595697128f2e7ab38ef938a7">tdc::View::back</a></div><div class="ttdeci">const_reference back() const </div><div class="ttdoc">Access the last element. </div><div class="ttdef"><b>Definition:</b> <a href="_view_8hpp_source.html#l00127">View.hpp:127</a></div></div>
<div class="ttc" id="_suffix_tree_8hpp_html"><div class="ttname"><a href="_suffix_tree_8hpp.html">SuffixTree.hpp</a></div></div>
<div class="ttc" id="_l_z_s_s_factors_8hpp_html_ab2e914ac2e0b5d74a5079c58903ba5a9"><div class="ttname"><a href="_l_z_s_s_factors_8hpp.html#ab2e914ac2e0b5d74a5079c58903ba5a9">pos</a></div><div class="ttdeci">len_t pos</div><div class="ttdef"><b>Definition:</b> <a href="_l_z_s_s_factors_8hpp_source.html#l00038">LZSSFactors.hpp:38</a></div></div>
<div class="ttc" id="classtdc_1_1_meta_html_aa00cbc180eecd9017e247d9bbffbc01e"><div class="ttname"><a href="classtdc_1_1_meta.html#aa00cbc180eecd9017e247d9bbffbc01e">tdc::Meta::option</a></div><div class="ttdeci">OptionBuilder option(const std::string &amp;name)</div><div class="ttdoc">Declares an accepted option for this algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="_algorithm_8hpp_source.html#l00208">Algorithm.hpp:208</a></div></div>
<div class="ttc" id="_text_d_s_8hpp_html"><div class="ttname"><a href="_text_d_s_8hpp.html">TextDS.hpp</a></div></div>
<div class="ttc" id="classtdc_1_1_env_html"><div class="ttname"><a href="classtdc_1_1_env.html">tdc::Env</a></div><div class="ttdoc">Local environment for a compression/encoding/decompression call. </div><div class="ttdef"><b>Definition:</b> <a href="pre__header_2_env_8hpp_source.html#l00113">pre_header/Env.hpp:113</a></div></div>
<div class="ttc" id="_l_z78common_8hpp_html"><div class="ttname"><a href="_l_z78common_8hpp.html">LZ78common.hpp</a></div></div>
<div class="ttc" id="_compressor_8hpp_html"><div class="ttname"><a href="_compressor_8hpp.html">Compressor.hpp</a></div></div>
<div class="ttc" id="_range_8hpp_html"><div class="ttname"><a href="_range_8hpp.html">Range.hpp</a></div></div>
<div class="ttc" id="classtdc_1_1lz78u_1_1_decompressor_html_affce5d73096878dc7dff5a3143d7d6c0"><div class="ttname"><a href="classtdc_1_1lz78u_1_1_decompressor.html#affce5d73096878dc7dff5a3143d7d6c0">tdc::lz78u::Decompressor::decompress</a></div><div class="ttdeci">void decompress(lz78::factorid_t index, View literals, std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="_l_z78_u_compressor_8hpp_source.html#l00044">LZ78UCompressor.hpp:44</a></div></div>
<div class="ttc" id="classtdc_1_1_view_html_a2e01d31deb487658491b3e81ab9a923d"><div class="ttname"><a href="classtdc_1_1_view.html#a2e01d31deb487658491b3e81ab9a923d">tdc::View::slice</a></div><div class="ttdeci">View slice(size_type from, size_type to=npos) const </div><div class="ttdoc">Construct a new View that is a sub view into the current one. </div><div class="ttdef"><b>Definition:</b> <a href="_view_8hpp_source.html#l00203">View.hpp:203</a></div></div>
<div class="ttc" id="namespacetdc_html_aa6b4c54c0897b49bf3c9e3f9f71ec408"><div class="ttname"><a href="namespacetdc.html#aa6b4c54c0897b49bf3c9e3f9f71ec408">tdc::len_t</a></div><div class="ttdeci">uint32_t len_t</div><div class="ttdoc">Type to represent input lengths. </div><div class="ttdef"><b>Definition:</b> <a href="def_8hpp_source.html#l00056">def.hpp:56</a></div></div>
<div class="ttc" id="classtdc_1_1io_1_1_input_html"><div class="ttname"><a href="classtdc_1_1io_1_1_input.html">tdc::io::Input</a></div><div class="ttdoc">An abstraction layer for algorithm input. </div><div class="ttdef"><b>Definition:</b> <a href="_input_8hpp_source.html#l00032">Input.hpp:32</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_087d7daf0dd2a94a4f056a2b76fb78f8.html">tudocomp</a></li><li class="navelem"><a class="el" href="dir_880e67206d27ffa85de30e7875dd4f44.html">compressors</a></li><li class="navelem"><a class="el" href="_l_z78_u_compressor_8hpp.html">LZ78UCompressor.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
